@using Blog.Models
@model IEnumerable<Post>


@{
    ViewBag.Title = "Index";
    bool isPreviousLinkVisible = ViewBag.IsPreviousLinkVisible ?? false;
    bool isNextLinkVisible = ViewBag.isNextLinkVisible ?? false;
    bool isAdmin = ViewBag.IsAdmin ?? false;
}

@section SideBar
{
    <div id="sidebar">
        <div><img id="portrait" src="@Href("/Content/Images/portrait.jpg")" alt="portrait" /></div>
        <div id="twitterHeader"><a href="http://twitter.com/babakmbm" target="_blank">Babak Hosseini On twitter</a></div>
        <div id="GithubLink"><a href="https://github.com/babakmbm" target="_blank">Code On Github</a></div>
        <div id="FeedList"><a href="@Href("~/Posts/RSS")" target="_blank">RSS Feed</a></div>
    </div>
}

@foreach (Post post in Model)
{
    @PostHelper.Render(post, Html, isAdmin, false)
}

@if (isPreviousLinkVisible)
{
    <a class="pagingLinks" id="previousLink" href="@Href("~/Posts/Index/" + (ViewBag.PageNumber - 1 ))">&lt; Previous Page</a>
}

    <a class="pagingLinks" id="firstLink" href="@Href("~/Posts/Index/" + 0)">First Page</a>

@if (isNextLinkVisible)
{
    <a class="pagingLinks" id="nextLink" href="@Href("~/Posts/Index/" + (ViewBag.PageNumber + 1 ))">Next Page &gt;</a>
}
